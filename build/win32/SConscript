import sys
import os.path
import SCons.Util

Import('env')

# use libraries from ext/
env.AppendUnique(CPPPATH = ['#/ext/include'])
env.AppendUnique(LIBPATH = ['#/ext/lib'])

env.AppendUnique(CPPPATH = os.path.join(sys.prefix, 'include'))
env.AppendUnique(LIBPATH = os.path.join(sys.prefix, 'lib'))
#env.AppendUnique(LINKFLAGS = ['/EXPORT'])
    
# add WIN32 define and exception handling flags
env.AppendUnique(CXXFLAGS = ['/GR', '/EHsc'])
env.AppendUnique(CPPDEFINES = ['WIN32'])

# debug / release flags
if env['DEBUG']:
	env.Append(CXXFLAGS = ['/Zi', '/Od', '/MDd'])
	env.Append(LINKFLAGS = ['/DEBUG'])
else:
	env.Append(CXXFLAGS = ['/O2', '/MD'])
	
# return modified environment
Return('env')
